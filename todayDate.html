<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>BA ROSTER MAIL</title>
    <style>
        .grid-container {
            border-radius: 21px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            background: #f5f5f5;
            padding: 15px;
            gap: 22px;
            width: auto;
        }

        .grid-item {
            height: 60px;
            width: 60px;
            border-radius: 21px;
            background: linear-gradient(to bottom, #ffffff 0%, #f0f0f0 100%);
            border: 1px solid #ddd;
            font-size: 15px;
            text-align: center;
            text-decoration: none;
            padding: 22px;
            transition: transform 0.3s;
            font-weight: bold;
            box-shadow: 3px 3px 5px #e0e0e0;
            color: #333;
        }

        .grid-item:hover {
            background: linear-gradient(to bottom, #e0e0e0 0%, #d0d0d0 100%);
            box-shadow: 2px 2px 3px #ccc;
            transform: scale(0.98);
            word-wrap: break-word;
        }

        h1 {
            color: #555;
            text-align: center;
            font-size: 31px;
        }

        .base-name {
            text-decoration: none;
            color: inherit;
            word-wrap: break-word;
        }

        .fullForm {
            font-size: 11px;
            color: #888;
            word-wrap: break-word;
            font-weight: normal;
        }

        .grid-item-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
        }

        #openAllBtn {
            display: block;
            margin: 20px auto;
            padding: 10px 20px;
            font-size: 18px;
            font-weight: bold;
            color: white;
            background-color: #007BFF;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        #openAllBtn:hover {
            background-color: #0056b3;
        }

        .date-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 20px;
        }
    </style>
</head>

<body>

    <h1 id="currentDateHeader"></h1>
    <div class="date-container">
        <label for="dateInput">Select Date:</label>
        <input type="date" id="dateInput">
    </div>

    <button id="openAllBtn" onclick="openAllMails()">Open All Mails</button>
    <div class="grid-container">
        <div class="grid-item-container">
            <input type="number" min="0" value="0" style="width: 50px;">
            <a class="base-name" href="mailto:medical.amd@spicejet.com?cc=amd.engg@spicejet.com,admin.engg@spicejet.com,javed.kalam@spicejet.com,saket.singh,uma.kumar@spicejet.com&subject=AMD //Candidates For BA Test // <span class='datePlaceholder'></span>&body=Dear Medical Team,%0D%0A%0D%0APlease find the details of randomly selected candidates for the BA test for <span class='datePlaceholder'></span>.%0D%0A%0D%0A" target="_blank">
                <div class="grid-item">
                    AMD<br><span class="fullForm">Ahmedabad</span>
                </div>
            </a>
        </div>
        <div class="grid-item-container">
            <input type="number" min="0" value="0" style="width: 50px;">
            <a class="base-name" href="mailto:medical.bom@spicejet.com?cc=bom.engg@spicejet.com,admin.engg@spicejet.com,bom.stores@spicejet.com,javed.kalam@spicejet.com&subject=BOM LMD //Candidates For BA Test // <span class='datePlaceholder'></span>&body=Dear Medical Team,%0D%0A%0D%0APlease find the details of randomly selected candidates for the BA test for <span class='datePlaceholder'></span>.%0D%0A%0D%0A" target="_blank">
                <div class="grid-item">
                    BOM LMD<br><span class="fullForm">Mumbai</span>
                </div>
            </a>
        </div>

        <div class="grid-item-container">
            <input type="number" min="0" value="0" style="width: 50px;">
            <a class="base-name" href="mailto:medical.bom@spicejet.com?cc=bom.engg@spicejet.com,admin.engg@spicejet.com,bom.stores@spicejet.com,javed.kalam@spicejet.com,gsd.bom@spicejet.com&subject=BOM DRIVER //Candidates For BA Test // <span class='datePlaceholder'></span>&body=Dear Medical Team,%0D%0A%0D%0APlease find the details of randomly selected candidates for the BA test for <span class='datePlaceholder'></span>.%0D%0A%0D%0A" target="_blank">
                <div class="grid-item">
                    BOM DRIVER<br><span class="fullForm">Mumbai</span>
                </div>
            </a>
        </div>

        <div class="grid-item-container">
            <input type="number" min="0" value="0" style="width: 50px;">
            <a class="base-name" href="mailto:medical.bom@spicejet.com?cc=bom.engg@spicejet.com,admin.engg@spicejet.com,bom.stores@spicejet.com,javed.kalam@spicejet.com,gsd.bom@spicejet.com&subject=BOM GSD //Candidates For BA Test // <span class='datePlaceholder'></span>&body=Dear Medical Team,%0D%0A%0D%0APlease find the details of randomly selected candidates for the BA test for <span class='datePlaceholder'></span>.%0D%0A%0D%0A" target="_blank">
                <div class="grid-item">
                    BOM GSD<br><span class="fullForm">Mumbai</span>
                </div>
            </a>
        </div>

        <div class="grid-item-container">
            <input type="number" min="0" value="0" style="width: 50px;">
            <a class="base-name" href="mailto:medical.ixy@spicejet.com,?cc=harish.k@spicejet.com,javed.kalam@spicejet.com,admin.engg@spicejet.com,ixy.engg@spicejet.com,ravindra.chavan@spicejet.com&subject=IXY //Candidates For BA Test // <span class='datePlaceholder'></span>&body=Dear Medical Team,%0D%0A%0D%0APlease find the details of randomly selected candidates for the BA test for <span class='datePlaceholder'></span>.%0D%0A%0D%0A" target="_blank">
                <div class="grid-item">
                    IXY<br><span class="fullForm">Kandla</span>
                </div>
            </a>
        </div>

        <div class="grid-item-container">
            <input type="number" min="0" value="0" style="width: 50px;">
            <a class="base-name" href="mailto:medical.pbd@spicejet.com?cc=javed.kalam@spicejet.com,admin.engg@spicejet.com,pbd.engg@spicejet.com,chetan.bhanka@spicejet.com&subject=PBD //Candidates For BA Test // <span class='datePlaceholder'></span>&body=Dear Medical Team,%0D%0A%0D%0APlease find the details of randomly selected candidates for the BA test for <span class='datePlaceholder'></span>." target="_blank">
                <div class="grid-item">
                    PBD<br><span class="fullForm">Porbandar</span>
                </div>
            </a>
        </div>

        <div class="grid-item-container">
            <input type="number" min="0" value="0" style="width: 50px;">
            <a class="base-name" href="mailto:admin.engg@spicejet.com?cc=harish.k@spicejet.com&subject=BOM // CONSOLIDATED SHEET // <span class='datePlaceholder'></span>&body=Dear Admin,%0D%0A%0D%0AGreetings of the day!%0D%0A%0D%0APlease find the consolidated sheet attached below." target="_blank">
                <div class="grid-item">
                    CONSOLIDATED SHEET
                </div>
            </a>
        </div>

        </div>
    
    <script>
        function updateDateHeader() {
            const dateInput = document.getElementById('dateInput').value;
            if (dateInput) {
                const date = new Date(dateInput);
                const day = date.getDate().toString().padStart(2, '0');
                const month = date.toLocaleString('en-US', {
                    month: 'short'
                }).toUpperCase();
                document.getElementById('currentDateHeader').textContent = `Date: ${day} ${month}`;
            } else {
                document.getElementById('currentDateHeader').textContent = `Date: -- ---`;
            }
        }

        function openAllMails() {
            const dateInput = document.getElementById('dateInput').value;
            if (!dateInput) {
                alert("Please select a date first.");
                return;
            }

            const date = new Date(dateInput);
            const day = date.getDate().toString().padStart(2, '0');
            const month = date.toLocaleString('en-US', {
                month: 'short'
            }).toUpperCase();
            const formattedDate = `${day} ${month}`;

            const containers = document.querySelectorAll('.grid-item-container');

            for (const container of containers) {
                const link = container.querySelector('a');
                const input = container.querySelector('input[type="number"]');

                // Get the count from the input field; default to 0 if not a number
                const count = parseInt(input.value) || 0;

                let href = link.getAttribute('href');
                href = href.replace(/<span.*?>.*?<\/span>/g, formattedDate);

                for (let i = 0; i < count; i++) {
                    window.open(href, '_blank');
                }
            }
        }

        document.getElementById('dateInput').addEventListener('change', updateDateHeader);

        // Set the initial date to today's date
        window.onload = function() {
            const today = new Date();
            const year = today.getFullYear();
            const month = (today.getMonth() + 1).toString().padStart(2, '0');
            const day = today.getDate().toString().padStart(2, '0');
            document.getElementById('dateInput').value = `${year}-${month}-${day}`;
            updateDateHeader();
        };
    </script>
</body>

</html>